# Tessrax Roadmap

This document captures the complete Tessrax upgrade roadmap grouped by governance priority tiers.

## Critical Tier — Governance & Security

### 1. Ledger System
- Add ledger compaction with Merkle-pipeline rollover.
- Add ledger snapshot export with a reproducible binary format.
- Add ledger corruption auto-repair via Merkle replay.
- Add a ledger replay profiler to detect timing anomalies.
- Add immutable ledger block metadata (epoch IDs and rotation anchors).

### 2. Key Infrastructure
- Add mandatory multi-signature governance approvals.
- Add offline recovery key support with an out-of-band rotation channel.
- Add a governance-token freshness window (anti-replay).
- Add a backup and restore test harness with reproducibility guarantees.
- Add deterministic key seed derivation for cold boot scenarios.

### 3. Serialization & Hashing
- Add canonical float normalization.
- Add canonical datetime enforcement.
- Add an anti-mutation snapshot wrapper for nested payloads.
- Add a zero-allocation hash pipeline for high-load scenarios.

### 4. Merkle Engine
- Add an incremental Merkle diff tool.
- Add a historical Merkle root audit trail.
- Add branch pruning detection.
- Add a Merkle state race-condition test harness.
- Add alternate hash-engine swap capability (BLAKE3 support).

### 5. Governance Kernel
- Add policy-version pinning.
- Add policy upgrade receipts.
- Add policy rollback capability.
- Add quorum simulation for real nodes.
- Add a governance kernel fuzz test harness.

### 6. Verification Pipeline
- Add a full environment cold-boot test (no prior imports).
- Add an API-level verify endpoint.
- Add state divergence detection (index ↔ merkle ↔ ledger).
- Add a full binary reproducibility test (Nix-style).

## High Tier — Stability & Performance

### 7. Runtime / Concurrency
- Add an async write pipeline.
- Add a parallel Merkle replay mode.
- Add sharded ledger segments.
- Add a two-phase commit for `write_receipt`.
- Add deadlock injection tests.

### 8. Index & Storage
- Add automated index rebuild from the ledger.
- Add database VACUUM and integrity check hooks.
- Add a write-ahead log for index operations.
- Add SQLite mode switching (immutable mode / WAL mode).
- Add index corruption simulation tests.

### 9. CLI & Developer Tools
- Add a `tessraxctl` command-line tool.
- Add a pretty-print ledger viewer.
- Add a governance decision explorer.
- Add a receipt search engine.
- Add a receipt diff viewer for semantic comparisons.

### 10. Test Infrastructure
- Add an end-to-end test harness running all engines simultaneously.
- Add random input fuzzing for all public APIs.
- Add a time-travel simulation (clock skew detection).
- Add load tests for 10k+ ledger entries.
- Add a cross-Python-version test matrix.

## Medium Tier — Clarity & Developer Experience

### 11. Documentation
- Auto-generate docs from code annotations (Sphinx or pydoc-md).
- Add an "Understanding Merkle Accumulators in Tessrax" guide.
- Add a "Cold Start Protocol" explainer.
- Add architecture diagrams in `/docs`.

### 12. Error Handling
- Add structured error codes.
- Add contextual hints in exceptions.
- Add an auto-diagnose tool for failures.
- Add a root-cause classifier for ledger/index mismatches.

### 13. API Design
- Add typed Pydantic models for payloads.
- Add local caching of read-only verifier responses.
- Add `python -m tessrax.debug` for introspection.

### 14. Packaging
- Add `pyproject.toml` v2 packaging.
- Move utilities into a consolidated distribution.
- Publish pre-built binary wheels for Linux and macOS.
- Add reproducibility hashes for release artifacts.

## Low Tier — Polish & Future-Facing

### 15. Visualization
- Add `merkle_tree.svg` autogenerated previews.
- Add a web UI for browsing ledger entries.
- Add animated governance kernel diagrams.
- Add a D3-based contradiction map viewer.

### 16. Integration
- Add a WASM-compatible hashing mode.
- Add an optional Rust-backed hashing module.
- Add an optional RocksDB index backend.
- Add REPL-friendly helper functions.

### 17. Developer Experience
- Add autoformat and pre-commit hooks.
- Add consistent log styling.
- Add a sample "build-your-own-governance-engine" template.

---

This roadmap is intended to feed Codex execution waves (v2.1 → v3.0 → v4.0 → vX) without throttling. Each initiative must be implemented under the Tessrax Governance Framework (clauses AEP-001, RVC-001, EAC-001, POST-AUDIT-001, DLK-001, TESST) with receipts and verification artifacts.
